
<h1>999999999999</h1>
<script>
function deepclone(obj) {
    return new Promise((resolve) => {
        const {port1, port2} = new MessageChannel()
        port1.postMessage(obj)
        port2.onmessage = (msg) => {
            resolve(msg.data)
        }
    })
}

const obj = {
    a: 1,
    b: /\d+/g,
    c: new Date(),
    // f: function() {
    //     console.log('123')
    // }  函数不行，会报错，
    g: [1,2,4]
}
obj.d =obj.a
deepclone(obj).then(res => {
    console.log('result:', res)
})
const cloneResult = deepclone(obj)
console.log(cloneResult)

</script>
